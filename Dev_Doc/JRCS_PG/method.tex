\section{Method Overview}
\label{sec:method}
\subsection{Problem Statement}
Given a set of point clouds which record the same group of rigid indoor objects with different layout. We intend to samutaneously partition the point clouds into objects and align the points of same object to recover layouts for corresponding object. Figure~\ref{fig:syn-data} shows an example of input point clouds set.
\subsection{Formulation}
To formulate the relation between the unknown object set and the input point clouds. We come up with a generation model as follows:
\begin{equation}
\label{equ:model}
P(v_{mi})=\sum^{K_n}_{k=1}p_kN(v_{mi}|\phi_{mn}(x_k),\Sigma_k)
\end{equation}
which means,
The observed point clouds are generated by $N$ object model. 
Each object model is represented by a gaussian mixture model with $K_n$ centroids.
Our goal is to maximize the probability of the expected compelete-data log-likelihood. 
The object function can be written as:
\begin{equation}
\label{equ:obj0}
\Theta=\arg\max{\sum_ZP(Z|V,\Theta)\ln{P(V,Z;\Theta)}}
\end{equation}
in which:
$$\Theta=\{\{p_k,x_k,\Sigma_k\}_{k=1}^{\sum{K_n}},\{\phi_{mn}\}_{m=1,n=1}^{MN}\}$$
is the parameters of the generation model.\\
$p_n$ is the prior probability that the point is generated by the n-th object.\\
$p_k$ is the weight of the k-th Gaussian.\\
$x_k$ is the center of the k-th Gaussian.\\
$\Sigma_k$ is the standard deviation of the k-th Gaussian.\\
There are $\sum{K_n}$ Gaussian model in total and among them, $K_n$ Gaussian models belongs to object $n$.\\
$V$ is the M input point clouds.\\
$v_{mi}$ is the i-th point of the m-th point cloud.\\
$Z$ is a latent variable set defined as:\\
$$Z=\{z_{ij}|j=1...M,i=1...N_j\}$$
among which if $z_{ij}=k(k=1...\sum{K_n})$ assign the observation of $\phi_{mn}(v_{mi})$ to the k-th component of Gaussian mixture model.Such formulation can be seen as an extention of joint registration formulation in \cite{Evangelidis2014}, upon which we add several gaussian mixture model together to express a group of objects. By solving this new problem we simutaneously solve  the object co-segmentation of given observation.
%%\subsection{Bilateral Formulation}
%%When considering features, we can develop it into a bilateral GMM formulation.
%%\begin{equation}
%%P(v_{mi},f_{mi})=\sum^{K_n}_{k=1}p_kN(v_{mi}|\phi_{mn}(xv_k),\sigma v_k)N(f_{mi}|xf_k,\sigma v_f))
%%\end{equation}
%%we measure the feature difference by a gaussian with diagnal $\Sigma$, to make this measurement valid we rotate and scale the feature space with PCA.
\subsection{Interaction Design for Annotation}
Unfortunately, there are serveral disadvantages for our optimization method. In this subsection we first introduce our interaction design, showing that it is intuitive for users to annotate the point set this way. We then explain how our formulation and optimization can be turned into a practical annotation tool when equiped with our design of interaction.


